name: github-actions-test
on: push
jobs:
  testing-github-actions:
    runs-on: ubuntu-latest
    steps:
    - uses: hashicorp/setup-terraform@v1
      with:
        terraform_version: 0.12.25
    - run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."
    - run: echo "🐧 This job is now running on a ${{ runner.os }} server hosted by GitHub!"
    - name: Check out repository code
      uses: actions/checkout@v2
    - run: echo "💡 The ${{ github.repository }} repository has been cloned to the runner."
    - name: List files in the repository
      run: |
        ls -la ${{ github.workspace }}
    - name: Testing docker build
      run: |
        # timestamp=$(date +%Y%m%d%H%M%S)
        # image="${{ secrets.HUB_REPO }}":$timestamp
        # docker login -u "${{ secrets.HUB_USERNAME }}" -p "${{ secrets.HUB_PASSWORD }}"
        # docker build -t $image .
        # docker push $image
        # docker image ls
    - run: echo "${{ steps.conan.outputs.version }}"
    # - uses: hashicorp/setup-terraform@v1  
    # - run: terraform -v


    # - name: Install Conan
    #   id: conan
    #   uses: turtlebrowser/get-conan@main

    # - name: Conan version
    #   run: echo "${{ steps.conan.outputs.version }}"
